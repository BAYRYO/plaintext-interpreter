<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="{{ config.general.encoding }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="MarkWeave - Convertisseur de texte en HTML avec support Markdown, gestion des assets et navigation dynamique. Créez facilement des documents web structurés et accessibles.">
    
    <!-- Préconnexion aux CDN -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <title>MarkWeave</title>

    <!-- CSS critique injecté en ligne pour le rendu initial -->
    <style>
        /* Styles critiques minimaux pour le first paint */
        body { margin: 0; font-family: Arial, sans-serif; }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; }
        .content { padding: 20px; }
    </style>

    <!-- Chargement direct des CSS -->
    {% for css_file in assets.css %}
    <link rel="stylesheet" href="{{ css_file }}">
    {% endfor %}
    
    <!-- Favicons et configuration PWA -->
    <link rel="icon" type="image/png" href="{{ assets.images }}/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="{{ assets.images }}/favicon.svg">
    <link rel="shortcut icon" href="{{ assets.images }}/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ assets.images }}/apple-touch-icon.png">
    
    <!-- Configuration PWA -->
    <meta name="apple-mobile-web-app-title" content="MarkWeave">
    <meta name="application-name" content="MarkWeave">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="{{ assets.images }}/site.webmanifest">
</head>
<body>
    <div class="container">
        {% include 'header.html' %}

        {# Inclure le panneau de navigation #}
        {% include 'components/navigation.html' %}

        <main class="content">
            {{ content|safe }}
        </main>

        {% include 'footer.html' %}
    </div>
    <!-- Chargement différé des scripts -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script defer src="{{ assets.js }}/script.js"></script>
</body>
</html>
